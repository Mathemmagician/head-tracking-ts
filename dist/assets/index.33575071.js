import{S as W,G as N,T as U,M as A,a as I,A as D,P as _,b as z,W as G,F as H,V as y,C as B,d as Y,s as j,c as X,e as q,f as V,g as M,h as d,i as v,j as f,k as Z,l as x,m as K,n as J,o as Q}from"./vendor.0b72d3cd.js";const ee=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&e(l)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function e(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}};ee();const u=new W;new N;const te=new U(8,6,16,100),ne=new A({color:16737095}),b=new I(te,ne);b.rotation.x=3.1415/2;u.add(b);const oe=new D(16777215,.5);u.add(oe);const k=new _(14737632);k.position.set(0,10,40);u.add(k);const F=54,ie=Math.PI/180,se=15,re=new B,r=new z(F,window.innerWidth/window.innerHeight,.1,1e3),m=new G({canvas:document.querySelector("#bg")});m.setPixelRatio(window.devicePixelRatio);m.setSize(window.innerWidth,window.innerHeight);r.position.set(0,50,50);const T=new H(r,m.domElement);T.dragToLook=!0;window.addEventListener("resize",ae);function ae(){r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),m.setSize(window.innerWidth,window.innerHeight)}function ce(o,i){const e=se/i/2/Math.tan(F/2*ie),t=(o.x-.5)*100,n=-(o.y-.5)*100;return new y(t,n,e)}function le(o,i){const s=Math.min(.05,re.getDelta())*100;T.update(s);const e=ce(o,i);r.translateX(e.x),r.translateY(e.y),r.translateZ(e.z),m.render(u,r),r.translateX(-e.x),r.translateY(-e.y),r.translateZ(-e.z)}de([{client:"Chrome"}]);function de(o){const s=new Y().parse(navigator.userAgent);if(s.client===null||s.os===null){alert("Could not detect browser and/or os, continue at your own risk.");return}let e=!1;for(const t of o)if(!(t.client!==void 0&&!new RegExp(`^${t.client}$`).test(s.client.name))&&!(t.os!==void 0&&!new RegExp(`^${t.os}$`).test(s.os.name))){e=!0;break}e||alert(`This demo, running on ${s.client.name}/${s.os.name}, is not well supported at this time, continue at your own risk.`)}const w={silhouette:[10,338,297,332,284,251,389,356,454,323,361,288,397,365,379,378,400,377,152,148,176,149,150,136,172,58,132,93,234,127,162,21,54,103,67,109],lipsUpperOuter:[61,185,40,39,37,0,267,269,270,409,291],lipsLowerOuter:[146,91,181,84,17,314,405,321,375,291],lipsUpperInner:[78,191,80,81,82,13,312,311,310,415,308],lipsLowerInner:[78,95,88,178,87,14,317,402,318,324,308],rightEyeUpper0:[246,161,160,159,158,157,173],rightEyeLower0:[33,7,163,144,145,153,154,155,133],rightEyeUpper1:[247,30,29,27,28,56,190],rightEyeLower1:[130,25,110,24,23,22,26,112,243],rightEyeUpper2:[113,225,224,223,222,221,189],rightEyeLower2:[226,31,228,229,230,231,232,233,244],rightEyeLower3:[143,111,117,118,119,120,121,128,245],rightEyebrowUpper:[156,70,63,105,66,107,55,193],rightEyebrowLower:[35,124,46,53,52,65],rightEyeIris:[473,474,475,476,477],leftEyeUpper0:[466,388,387,386,385,384,398],leftEyeLower0:[263,249,390,373,374,380,381,382,362],leftEyeUpper1:[467,260,259,257,258,286,414],leftEyeLower1:[359,255,339,254,253,252,256,341,463],leftEyeUpper2:[342,445,444,443,442,441,413],leftEyeLower2:[446,261,448,449,450,451,452,453,464],leftEyeLower3:[372,340,346,347,348,349,350,357,465],leftEyebrowUpper:[383,300,293,334,296,336,285,417],leftEyebrowLower:[265,353,276,283,282,295],leftEyeIris:[468,469,470,471,472],midwayBetweenEyes:[168],noseTip:[1],noseBottom:[2],noseRightCorner:[98],noseLeftCorner:[327],rightCheek:[205],leftCheek:[425]},fe={locateFile:o=>`https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/${o}`},E=1280,P=720,L=document.getElementsByClassName("input_video")[0],p=document.getElementsByClassName("output_canvas")[0],me=document.getElementsByClassName("control-panel")[0],a=p.getContext("2d"),C={selfieMode:!0,enableFaceGeometry:!1,maxNumFaces:1,refineLandmarks:!1,minDetectionConfidence:.5,minTrackingConfidence:.5,intensity:1,color:16777215},$=document.querySelector(".loading");$.ontransitionend=()=>{$.style.display="none"};let O=1;function pe(o){document.body.classList.add("loaded"),a.save(),a.clearRect(0,0,p.width,p.height),a.drawImage(o.image,0,0,p.width,p.height);const i=w.rightEyeUpper0.concat(w.rightEyeLower0),s=w.leftEyeUpper0.concat(w.leftEyeLower0);if(o.multiFaceLandmarks.length>0){const e=o.multiFaceLandmarks[0];O===0&&console.log(x),v(a,i.map(c=>e[c]),{color:"red",radius:5}),v(a,s.map(c=>e[c]),{color:"green",radius:5}),O+=.1,f(a,e,Z,{color:"#C0C0C070",lineWidth:1}),f(a,e,x,{color:"#E0E0E0"}),f(a,e,K,{color:"#E0E0E0"}),C.refineLandmarks&&(f(a,e,J,{color:"#FF3030"}),f(a,e,Q,{color:"#30FF30"}));const t=e[226],n=e[446],l=Math.abs(t.x-n.x)*E,R=Math.abs(t.y-n.y)*P,S=Math.hypot(l,R);let g=new y(0,0,0);for(const c of e)g.add(new y(c.x,c.y,c.z));g.divideScalar(e.length),le(g,S/E)}a.restore()}const h=new j(fe);h.setOptions(C);h.onResults(pe);const ue=new X(L,{onFrame:async()=>{await h.send({image:L}).catch(o=>alert(o))},width:E,height:P});ue.start();new q(me,C).add([new V({title:"MediaPipe Face Mesh"}),new M({title:"Selfie Mode",field:"selfieMode"}),new d({title:"Max Number of Faces",field:"maxNumFaces",range:[1,4],step:1}),new M({title:"Refine Landmarks",field:"refineLandmarks"}),new d({title:"Min Detection Confidence",field:"minDetectionConfidence",range:[0,1],step:.01}),new d({title:"Min Tracking Confidence",field:"minTrackingConfidence",range:[0,1],step:.01}),new d({title:"light intensity",field:"intensity",range:[-1,6],step:.01}),new d({title:"light color",field:"color",range:[0,16777215],step:1})]).on(o=>{const i=o;L.classList.toggle("selfie",i.selfieMode),h.setOptions(i)});
